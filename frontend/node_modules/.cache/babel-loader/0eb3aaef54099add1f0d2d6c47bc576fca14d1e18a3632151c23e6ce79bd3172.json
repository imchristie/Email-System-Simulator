{"ast":null,"code":"import _slicedToArray from\"C:/Users/Christie/Desktop/CSE 186/Assignment8/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import SharedContext from'./SharedContext';import{AppBar,Toolbar,IconButton,Box,TextField}from'@mui/material';import ArrowBackIosNewIcon from'@mui/icons-material/ArrowBack';import ArrowForwardIcon from'@mui/icons-material/ArrowForward';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fetchSent=function fetchSent(t,s,c){var user=JSON.parse(localStorage.getItem('user'));fetch('http://localhost:3010/v0/mail',{method:'post',headers:new Headers({'Authorization':\"Bearer \".concat(user.accessToken),'Content-Type':'application/json','accept':'application/json'}),body:JSON.stringify({'subject':s,'content':c,'to':{'name':'','email':t}})}).then(function(response){if(!response.ok){throw response;}return response.json();}).then(function(response){if(!response.ok){throw response;}return true;}).catch(function(error){console.log(error);});};/**\n * @return {object} JSX\n */function Composing(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),too=_React$useState2[0],setTo=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),subject=_React$useState4[0],setSub=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),content=_React$useState6[0],setContent=_React$useState6[1];var _React$useContext=React.useContext(SharedContext),setComp=_React$useContext.setComp,setMailV=_React$useContext.setMailV,setMailboxV=_React$useContext.setMailboxV,mailid=_React$useContext.mailid;var _React$useState7=React.useState(window.innerWidth>550||window.innerWidth===0?false:true),_React$useState8=_slicedToArray(_React$useState7,2),xsmdlg=_React$useState8[0],setXS=_React$useState8[1];var goBack=function goBack(){setComp(false);if(mailid!==''){setMailV(true);}else{setMailboxV(true);}};React.useEffect(function(){var updateXS=function updateXS(){var x=window.innerWidth>550||window.innerWidth===0?false:true;setXS(x);};window.addEventListener('resize',updateXS);return function(){return window.removeEventListener('resize',updateXS);};},[]);var senting=function senting(){fetchSent(too,subject,content);setComp(false);if(mailid!==''){setMailV(true);}else{setMailboxV(true);}};return/*#__PURE__*/_jsxs(Box,{sx:{paddingLeft:xsmdlg?'0px':'200px'},children:[/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",sx:{paddingLeft:xsmdlg?'0px':'200px'},children:/*#__PURE__*/_jsxs(Toolbar,{sx:{justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return goBack();},role:\"button\",\"aria-label\":\"go back\",children:/*#__PURE__*/_jsx(ArrowBackIosNewIcon,{})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return senting();},role:\"button\",\"aria-label\":\"sent\",children:/*#__PURE__*/_jsx(ArrowForwardIcon,{})})})]})}),/*#__PURE__*/_jsx(Toolbar,{}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",id:\"to\",name:\"to\",size:\"small\",value:too,onInput:function onInput(event){setTo(event.target.value);},fullWidth:true,sx:{background:'white'}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",id:\"subject\",name:\"subject\",size:\"small\",value:subject,onInput:function onInput(event){setSub(event.target.value);},fullWidth:true,sx:{background:'white'}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",id:\"content\",name:\"content\",value:content,onInput:function onInput(event){setContent(event.target.value);},fullWidth:true,multiline:true,sx:{background:'white'}})]});}export default Composing;","map":{"version":3,"names":["React","SharedContext","AppBar","Toolbar","IconButton","Box","TextField","ArrowBackIosNewIcon","ArrowForwardIcon","fetchSent","t","s","c","user","JSON","parse","localStorage","getItem","fetch","method","headers","Headers","accessToken","body","stringify","then","response","ok","json","catch","error","console","log","Composing","useState","too","setTo","subject","setSub","content","setContent","useContext","setComp","setMailV","setMailboxV","mailid","window","innerWidth","xsmdlg","setXS","goBack","useEffect","updateXS","x","addEventListener","removeEventListener","senting","paddingLeft","justifyContent","event","target","value","background"],"sources":["C:/Users/Christie/Desktop/CSE 186/Assignment8/frontend/src/components/Composing.jsx"],"sourcesContent":["import React from 'react';\nimport SharedContext from './SharedContext';\nimport {AppBar, Toolbar, IconButton, Box, TextField} from '@mui/material';\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBack';\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward';\n\nconst fetchSent = (t, s, c) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  fetch('http://localhost:3010/v0/mail', {\n    method: 'post',\n    headers: new Headers({\n      'Authorization': `Bearer ${user.accessToken}`,\n      'Content-Type': 'application/json',\n      'accept': 'application/json',\n    }),\n    body: JSON.stringify({\n      'subject': s,\n      'content': c,\n      'to': {\n        'name': '',\n        'email': t,\n      }}),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return response.json();\n    })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return true;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\n/**\n * @return {object} JSX\n */\nfunction Composing() {\n  const [too, setTo] = React.useState('');\n  const [subject, setSub] = React.useState('');\n  const [content, setContent] = React.useState('');\n  const {setComp, setMailV, setMailboxV,\n    mailid} = React.useContext(SharedContext);\n  const [xsmdlg, setXS] = React.useState(((window.innerWidth>550)||\n    (window.innerWidth===0))? false : true);\n\n  const goBack = () => {\n    setComp(false);\n    if (mailid !== '') {\n      setMailV(true);\n    } else {\n      setMailboxV(true);\n    }\n  };\n\n  React.useEffect(() => {\n    const updateXS = () => {\n      const x = ((window.innerWidth>550)||\n        (window.innerWidth===0))? false : true;\n      setXS(x);\n    };\n    window.addEventListener('resize', updateXS);\n    return () => window.removeEventListener('resize', updateXS);\n  }, []);\n\n  const senting = () => {\n    fetchSent(too, subject, content);\n    setComp(false);\n    if (mailid !== '') {\n      setMailV(true);\n    } else {\n      setMailboxV(true);\n    }\n  };\n\n  return (\n    <Box sx={{paddingLeft: (xsmdlg?'0px':'200px')}}>\n      <AppBar position='fixed' sx={{paddingLeft: (xsmdlg?'0px':'200px')}}>\n        <Toolbar sx={{justifyContent: 'space-between'}}>\n          <IconButton\n            onClick={() => goBack()}\n            role='button'\n            aria-label='go back'>\n            <ArrowBackIosNewIcon />\n          </IconButton>\n          <div>\n            <IconButton\n              onClick={() => senting()}\n              role='button'\n              aria-label='sent'>\n              <ArrowForwardIcon />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <Toolbar />\n      <TextField\n        margin=\"normal\"\n        id=\"to\"\n        name=\"to\"\n        size='small'\n        value={too}\n        onInput={(event) => {\n          setTo(event.target.value);\n        }}\n        fullWidth\n        sx={{background: 'white'}}\n      />\n      <TextField\n        margin=\"normal\"\n        id=\"subject\"\n        name=\"subject\"\n        size='small'\n        value={subject}\n        onInput={(event) => {\n          setSub(event.target.value);\n        }}\n        fullWidth\n        sx={{background: 'white'}}\n      />\n      <TextField\n        margin=\"normal\"\n        id=\"content\"\n        name=\"content\"\n        value={content}\n        onInput={(event) => {\n          setContent(event.target.value);\n        }}\n        fullWidth\n        multiline\n        sx={{background: 'white'}}\n      />\n    </Box>\n  );\n}\n\nexport default Composing;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}