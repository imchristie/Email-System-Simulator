{"ast":null,"code":"import _slicedToArray from\"C:/Users/Christie/Desktop/CSE 186/Assignment8/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useContext}from'react';import SharedContext from'./SharedContext';import{AppBar,Toolbar,IconButton,Box,List,ListItem,ListItemText,ListItemIcon,Dialog,DialogTitle,DialogContent,FormControlLabel,Checkbox,FormGroup}from'@mui/material';import ArrowBackIosNewIcon from'@mui/icons-material/ArrowBackIosNew';import MailOutlineIcon from'@mui/icons-material/MailOutline';import DownloadIcon from'@mui/icons-material/Download';import DeleteIcon from'@mui/icons-material/Delete';import PersonIcon from'@mui/icons-material/Person';import StarBorderIcon from'@mui/icons-material/StarBorder';import ArrowBackIcon from'@mui/icons-material/ArrowBack';import StarIcon from'@mui/icons-material/Star';import CloseIcon from'@mui/icons-material/Close';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fetchMailbox=function fetchMailbox(setOMB){var user=JSON.parse(localStorage.getItem('user'));fetch('http://localhost:3010/v0/mailbox',{method:'get',headers:new Headers({'Authorization':\"Bearer \".concat(user.accessToken),'Content-Type':'application/x-www-form-urlencoded'})}).then(function(response){if(!response.ok){throw response;}return response.json();}).then(function(json){var arr=json.filter(function(m){return m.mailbox!=='Draft'&&m.mailbox!=='Inbox'&&m.mailbox!=='Sent'&&m.mailbox!=='Starred'&&m.mailbox!=='Trash';});setOMB(arr);}).catch(function(error){console.log(error);});};var fetchMail=function fetchMail(setMail,setS,mailid){var user=JSON.parse(localStorage.getItem('user'));// const bearerToken = user.accessToken;\nvar fetchStr='http://localhost:3010/v0/mail/'+mailid;fetch(fetchStr,{method:'get',headers:new Headers({'Authorization':\"Bearer \".concat(user.accessToken),'Content-Type':'application/x-www-form-urlencoded'})}).then(function(response){if(!response.ok){throw response;}return response.json();}).then(function(json){setMail(json);setS(json.star);}).catch(function(error){console.log(error);setMail({});});};var fetchStar=function fetchStar(id){var user=JSON.parse(localStorage.getItem('user'));var fetchStr='http://localhost:3010/v0/star/'+id;fetch(fetchStr,{method:'post',headers:new Headers({'Authorization':\"Bearer \".concat(user.accessToken),'Content-Type':'application/x-www-form-urlencoded'})}).then(function(response){if(!response.ok){throw response;}return true;}).catch(function(error){console.log(error);});};var fetchUnread=function fetchUnread(id){var user=JSON.parse(localStorage.getItem('user'));var fetchStr='http://localhost:3010/v0/read/'+id;fetch(fetchStr,{method:'post',headers:new Headers({'Authorization':\"Bearer \".concat(user.accessToken),'Content-Type':'application/x-www-form-urlencoded'})}).then(function(response){if(!response.ok){throw response;}return true;}).catch(function(error){console.log(error);});};var fetchMove=function fetchMove(id,mailbox){var user=JSON.parse(localStorage.getItem('user'));var fetchStr='http://localhost:3010/v0/mail/'+id+'?mailbox='+mailbox;fetch(fetchStr,{method:'put',headers:new Headers({'Authorization':\"Bearer \".concat(user.accessToken),'Content-Type':'application/x-www-form-urlencoded'})}).then(function(response){if(!response.ok){throw response;}return true;}).catch(function(error){console.log(error);});};var fetchDel=function fetchDel(id){var user=JSON.parse(localStorage.getItem('user'));var fetchStr='http://localhost:3010/v0/mail/'+id+'?mailbox=Trash';fetch(fetchStr,{method:'put',headers:new Headers({'Authorization':\"Bearer \".concat(user.accessToken),'Content-Type':'application/x-www-form-urlencoded'})}).then(function(response){if(!response.ok){throw response;}return true;}).catch(function(error){console.log(error);});};/**\n * @return {object} JSX\n */function MailView(){var _React$useState=React.useState({from:{name:'',email:''}}),_React$useState2=_slicedToArray(_React$useState,2),mail=_React$useState2[0],setMail=_React$useState2[1];var _useContext=useContext(SharedContext),mailid=_useContext.mailid,setMailid=_useContext.setMailid,setMailV=_useContext.setMailV,setComp=_useContext.setComp,setMailboxV=_useContext.setMailboxV;var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),starred=_React$useState4[0],setS=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),dd=_React$useState6[0],setDD=_React$useState6[1];var _React$useState7=React.useState(window.innerWidth>550||window.innerWidth===0?false:true),_React$useState8=_slicedToArray(_React$useState7,2),xsmdlg=_React$useState8[0],setXS=_React$useState8[1];var _React$useState9=React.useState([]),_React$useState10=_slicedToArray(_React$useState9,2),otherMB=_React$useState10[0],setOMB=_React$useState10[1];React.useEffect(function(){fetchMail(setMail,setS,mailid);var updateXS=function updateXS(){var x=window.innerWidth>550||window.innerWidth===0?false:true;setXS(x);};window.addEventListener('resize',updateXS);return function(){return window.removeEventListener('resize',updateXS);};},[mailid]);var goBack=function goBack(){if(mail.unread===1){fetchUnread(mailid);}setMailboxV(true);setMailV(false);setMailid('');};var compClicked=function compClicked(){setMailV(false);setComp(true);};var clickedStar=function clickedStar(id){fetchStar(id);if(starred===1){setS(0);}else{setS(1);}};var markUnread=function markUnread(read,id){if(read===0){fetchUnread(id);}setMailV(false);setMailboxV(true);};var deleteMail=function deleteMail(id){fetchDel(id);setMailV(false);setMailboxV(true);};var moving=function moving(){fetchMailbox(setOMB);setDD(true);};var closeMoving=function closeMoving(){setDD(false);};var moveTrash=function moveTrash(id){fetchDel(id);};var moveInbox=function moveInbox(id){fetchMove(id,'Inbox');};var moveMB=function moveMB(event,id,mailbox){if(event.target.checked){fetchMove(id,mailbox);}};return/*#__PURE__*/_jsxs(Box,{sx:{paddingLeft:xsmdlg?'0px':'200px'},children:[/*#__PURE__*/_jsx(AppBar,{sx:{paddingLeft:xsmdlg?'0px':'200px',background:'white'},children:/*#__PURE__*/_jsxs(Toolbar,{sx:{justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return goBack();},role:\"button\",\"aria-label\":\"go back\",children:/*#__PURE__*/_jsx(ArrowBackIosNewIcon,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return markUnread(mail.unread,mail.id);},role:\"button\",\"aria-label\":\"unread\",children:/*#__PURE__*/_jsx(MailOutlineIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return moving(mail.id);},role:\"button\",\"aria-label\":\"move\",children:/*#__PURE__*/_jsx(DownloadIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return deleteMail(mail.id);},role:\"button\",\"aria-label\":\"delete\",children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Toolbar,{}),/*#__PURE__*/_jsx(\"h1\",{children:mail.subject}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsxs(ListItem,{sx:{justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(ListItemText,{children:mail.mailbox}),/*#__PURE__*/_jsx(ListItemText,{align:\"right\",primary:/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return compClicked(mail.id);},role:\"button\",\"aria-label\":\"compose\",children:/*#__PURE__*/_jsx(ArrowBackIcon,{})})})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(PersonIcon,{})}),/*#__PURE__*/_jsxs(\"div\",{sx:{justifyContent:'start'},children:[/*#__PURE__*/_jsxs(ListItemText,{align:\"left\",children:[mail.from.name,\"\\u2003\\u2003\",mail.sent]}),/*#__PURE__*/_jsx(ListItemText,{align:\"left\",children:mail.from.email})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ListItemText,{align:\"right\",primary:/*#__PURE__*/_jsxs(IconButton,{onClick:function onClick(){return clickedStar(mail.id);},role:\"button\",\"aria-label\":\"starred\",children:[starred===0&&/*#__PURE__*/_jsx(StarBorderIcon,{}),starred===1&&/*#__PURE__*/_jsx(StarIcon,{})]})})})]}),/*#__PURE__*/_jsx(ListItem,{children:mail.content})]}),dd&&/*#__PURE__*/_jsxs(Dialog,{open:dd,onClose:function onClose(){return closeMoving();},children:[/*#__PURE__*/_jsxs(DialogTitle,{onClose:function onClose(){return closeMoving();},children:[\"Moving to which mailbox?\\u2003\",/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return closeMoving();},role:\"button\",\"aria-label\":\"closeM\",children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(){return moveInbox(mail.id);}}),label:\"Inbox\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(){return moveTrash(mail.id);}}),label:\"Trash\"}),otherMB.map(function(m){return/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(event){return moveMB(event,mail.id,m.mailbox);}}),label:m.mailbox});})]})})]})]})]});}export default MailView;","map":{"version":3,"names":["React","useContext","SharedContext","AppBar","Toolbar","IconButton","Box","List","ListItem","ListItemText","ListItemIcon","Dialog","DialogTitle","DialogContent","FormControlLabel","Checkbox","FormGroup","ArrowBackIosNewIcon","MailOutlineIcon","DownloadIcon","DeleteIcon","PersonIcon","StarBorderIcon","ArrowBackIcon","StarIcon","CloseIcon","fetchMailbox","setOMB","user","JSON","parse","localStorage","getItem","fetch","method","headers","Headers","accessToken","then","response","ok","json","arr","filter","m","mailbox","catch","error","console","log","fetchMail","setMail","setS","mailid","fetchStr","star","fetchStar","id","fetchUnread","fetchMove","fetchDel","MailView","useState","from","name","email","mail","setMailid","setMailV","setComp","setMailboxV","starred","dd","setDD","window","innerWidth","xsmdlg","setXS","otherMB","useEffect","updateXS","x","addEventListener","removeEventListener","goBack","unread","compClicked","clickedStar","markUnread","read","deleteMail","moving","closeMoving","moveTrash","moveInbox","moveMB","event","target","checked","paddingLeft","background","justifyContent","subject","sent","content","map"],"sources":["C:/Users/Christie/Desktop/CSE 186/Assignment8/frontend/src/components/MailView.jsx"],"sourcesContent":["import React from 'react';\nimport {useContext} from 'react';\nimport SharedContext from './SharedContext';\nimport {AppBar, Toolbar, IconButton, Box, List, ListItem, ListItemText,\n  ListItemIcon, Dialog, DialogTitle, DialogContent, FormControlLabel,\n  Checkbox, FormGroup} from '@mui/material';\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\nimport MailOutlineIcon from '@mui/icons-material/MailOutline';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport PersonIcon from '@mui/icons-material/Person';\nimport StarBorderIcon from '@mui/icons-material/StarBorder';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport StarIcon from '@mui/icons-material/Star';\nimport CloseIcon from '@mui/icons-material/Close';\n\nconst fetchMailbox = (setOMB) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  fetch('http://localhost:3010/v0/mailbox', {\n    method: 'get',\n    headers: new Headers({\n      'Authorization': `Bearer ${user.accessToken}`,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    }),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return response.json();\n    })\n    .then((json) => {\n      const arr = (json.filter((m) => ((m.mailbox !== 'Draft')&&\n        (m.mailbox !== 'Inbox')&&(m.mailbox !== 'Sent')&&\n        (m.mailbox !== 'Starred')&&(m.mailbox !== 'Trash'))));\n      setOMB(arr);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\nconst fetchMail = (setMail, setS, mailid) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  // const bearerToken = user.accessToken;\n  const fetchStr = 'http://localhost:3010/v0/mail/'+ mailid;\n  fetch(fetchStr, {\n    method: 'get',\n    headers: new Headers({\n      'Authorization': `Bearer ${user.accessToken}`,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    }),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return response.json();\n    })\n    .then((json) => {\n      setMail(json);\n      setS(json.star);\n    })\n    .catch((error) => {\n      console.log(error);\n      setMail({});\n    });\n};\n\nconst fetchStar = (id) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  const fetchStr = 'http://localhost:3010/v0/star/'+ id;\n  fetch(fetchStr, {\n    method: 'post',\n    headers: new Headers({\n      'Authorization': `Bearer ${user.accessToken}`,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    }),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return true;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\nconst fetchUnread = (id) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  const fetchStr = 'http://localhost:3010/v0/read/'+ id;\n  fetch(fetchStr, {\n    method: 'post',\n    headers: new Headers({\n      'Authorization': `Bearer ${user.accessToken}`,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    }),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return true;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\nconst fetchMove = (id, mailbox) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  const fetchStr = 'http://localhost:3010/v0/mail/'+ id+'?mailbox='+mailbox;\n  fetch(fetchStr, {\n    method: 'put',\n    headers: new Headers({\n      'Authorization': `Bearer ${user.accessToken}`,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    }),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return true;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\nconst fetchDel = (id) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  const fetchStr = 'http://localhost:3010/v0/mail/'+id+'?mailbox=Trash';\n  fetch(fetchStr, {\n    method: 'put',\n    headers: new Headers({\n      'Authorization': `Bearer ${user.accessToken}`,\n      'Content-Type': 'application/x-www-form-urlencoded',\n    }),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      return true;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\n\n/**\n * @return {object} JSX\n */\nfunction MailView() {\n  const [mail, setMail] = React.useState({from: {name: '', email: ''}});\n  const {mailid, setMailid, setMailV,\n    setComp, setMailboxV} = useContext(SharedContext);\n  const [starred, setS] = React.useState(0);\n  const [dd, setDD] = React.useState(false);\n  const [xsmdlg, setXS] = React.useState(((window.innerWidth>550)||\n    (window.innerWidth===0))? false : true);\n  const [otherMB, setOMB] = React.useState([]);\n\n\n  React.useEffect(() => {\n    fetchMail(setMail, setS, mailid);\n    const updateXS = () => {\n      const x = ((window.innerWidth>550)||\n        (window.innerWidth===0))? false : true;\n      setXS(x);\n    };\n    window.addEventListener('resize', updateXS);\n    return () => window.removeEventListener('resize', updateXS);\n  }, [mailid]);\n\n  const goBack = () => {\n    if (mail.unread === 1) {\n      fetchUnread(mailid);\n    }\n    setMailboxV(true);\n    setMailV(false);\n    setMailid('');\n  };\n\n  const compClicked = () => {\n    setMailV(false);\n    setComp(true);\n  };\n\n  const clickedStar = (id) => {\n    fetchStar(id);\n    if (starred === 1) {\n      setS(0);\n    } else {\n      setS(1);\n    }\n  };\n\n  const markUnread = (read, id) => {\n    if (read === 0) {\n      fetchUnread(id);\n    }\n    setMailV(false);\n    setMailboxV(true);\n  };\n\n  const deleteMail = (id) => {\n    fetchDel(id);\n    setMailV(false);\n    setMailboxV(true);\n  };\n\n  const moving = () => {\n    fetchMailbox(setOMB);\n    setDD(true);\n  };\n\n  const closeMoving = () => {\n    setDD(false);\n  };\n\n  const moveTrash = (id) => {\n    fetchDel(id);\n  };\n\n  const moveInbox = (id) => {\n    fetchMove(id, 'Inbox');\n  };\n\n  const moveMB = (event, id, mailbox) => {\n    if (event.target.checked) {\n      fetchMove(id, mailbox);\n    }\n  };\n\n  return (\n    <Box sx={{paddingLeft: (xsmdlg?'0px':'200px')}}>\n      <AppBar sx={{paddingLeft: (xsmdlg?'0px':'200px'), background: 'white'}}>\n        <Toolbar sx={{justifyContent: 'space-between'}}>\n          <IconButton\n            onClick={() => goBack()}\n            role='button'\n            aria-label='go back'>\n            <ArrowBackIosNewIcon />\n          </IconButton>\n          <div>\n            <IconButton\n              onClick={() => markUnread(mail.unread, mail.id)}\n              role='button'\n              aria-label='unread'>\n              <MailOutlineIcon />\n            </IconButton>\n            <IconButton\n              onClick={() => moving(mail.id)}\n              role='button'\n              aria-label='move'>\n              <DownloadIcon />\n            </IconButton>\n            <IconButton\n              onClick={() => deleteMail(mail.id)}\n              role='button'\n              aria-label='delete'>\n              <DeleteIcon />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <Box>\n        <Toolbar />\n        <h1>{mail.subject}</h1>\n        <List>\n          <ListItem sx={{justifyContent: 'space-between'}}>\n            <ListItemText>{mail.mailbox}</ListItemText>\n            <ListItemText align=\"right\"\n              primary={\n                <IconButton\n                  onClick={() => compClicked(mail.id)}\n                  role='button'\n                  aria-label='compose'>\n                  <ArrowBackIcon />\n                </IconButton>}/>\n          </ListItem>\n          <ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <PersonIcon />\n              </ListItemIcon>\n              <div sx={{justifyContent: 'start'}}>\n                <ListItemText align=\"left\">\n                  {mail.from.name}&emsp;&emsp;{mail.sent}</ ListItemText>\n                <ListItemText align=\"left\">{mail.from.email}</ ListItemText>\n              </div>\n            </ListItem>\n            <div>\n              <ListItemText align=\"right\"\n                primary={\n                  <IconButton\n                    onClick={() => clickedStar(mail.id)}\n                    role='button'\n                    aria-label='starred'>\n                    {(starred === 0)&&<StarBorderIcon />}\n                    {(starred === 1)&&<StarIcon />}\n                  </IconButton>}/>\n            </div>\n          </ListItem>\n          <ListItem>\n            {mail.content}\n          </ListItem>\n        </List>\n        {dd&&<Dialog open={dd} onClose={() => closeMoving()}>\n          <DialogTitle onClose={() => closeMoving()}>\n          Moving to which mailbox?&emsp;\n            <IconButton\n              onClick={() => closeMoving()}\n              role='button'\n              aria-label='closeM'>\n              <CloseIcon />\n            </IconButton>\n          </DialogTitle>\n          <DialogContent>\n            <FormGroup>\n              <FormControlLabel\n                control={<Checkbox\n                  onChange={() => moveInbox(mail.id)}/>}\n                label='Inbox'\n              />\n              <FormControlLabel\n                control={<Checkbox\n                  onChange={() => moveTrash(mail.id)}/>}\n                label='Trash'\n              />\n              {otherMB.map((m) => (\n                <FormControlLabel\n                  control={<Checkbox\n                    onChange={(event) => moveMB(event, mail.id, m.mailbox)}/>}\n                  label={m.mailbox}\n                />\n              ))}\n            </FormGroup>\n          </DialogContent>\n        </Dialog>}\n      </Box>\n    </Box>\n  );\n}\n\nexport default MailView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}